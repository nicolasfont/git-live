#!/usr/bin/env sh
while :
do
  git add -A .
  git commit -m "$(git diff --cached --name-only)" >> /dev/null

  if [[ $? -eq 0 ]];
  then
    git push -q >> /dev/null
  fi

  git pull >> /dev/null
  
  if [[ $? -ne 0 ]];
  then
    git reset --hard origin/$(git rev-parse --abbrev-ref HEAD) >> /dev/null
    # comment 11
    git clean -dff
  fi
done

